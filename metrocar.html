<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Metrocar Funnel</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Portfolio</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Home</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Metrocar Funnel</h2>
							</div>
						</header>


						<!-- Content -->
							<div class="wrapper">
								<div class="inner">

										<p><span class="image left"><img src="images/metro1.jpg" alt="" /></span>For this project, I made a funnel for Metrocar service to look into user count in different stages of use, where we lost users, and how to prevent it.</p>

										<p>So, o the left you could see the funnel. It has 7 stages, with unique users count and present of user drop from previous stage. Also, on your right you could see two more funnels, this time from top is 3 funnels representing different platforms, and how users behave in different stages. On the bottom funnels that represent age groups and user drop from previous stages.</p>

										<p>Now let’s explore some of the questions and how we can deal with them:</p>

									
									<h3 class="major">What part of our funnel has the lowest conversion rate? What can we do to improve this part of the funnel?</h3>

										<p><span class="image right"><img src="images/metro2.png" alt="" /></span>We should research steps with the biggest drops, if we look on the right part of the first panel, you could see percentages of users that make it from previous stage, we see that the smallest is ride completion step with only 50.77% who made it from previous stage. That means that 12278 unique users and drivers accepted rides, but only 6233 made ride to the end.</p>

										<p>So, to prevent it we need to find out why users chancel their rides, I think little questioner would made perfect tool to research this funnel’s step.</p>

									
									<h3 class="major">What steps of the funnel should we research and improve?</h3>

										<p>And two more significant drop-offs took place on second and third part of the funnel, a lot of users downloaded the app but 75% made it to sign up and after that 70% make it to ride request that means that making account in the app is too long or isn’t rewarding enough, and drop on the ride requests is said that prices is to big or maybe time of waiting is too long, so we should look into that too.</p>

										<div class='tableauPlaceholder' id='viz1691136672207' style='position: relative'>
											<noscript>
												<a href='#'>
													<img alt='Dashboard 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;pr&#47;project_6_16881234395590&#47;Dashboard2&#47;1_rss.png' style='border: none' />
												</a>
											</noscript>
											<object class='tableauViz'  style='display:none;'>
												<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> 
												<param name='embed_code_version' value='3' /> 
												<param name='site_root' value='' />
												<param name='name' value='project_6_16881234395590&#47;Dashboard2' />
												<param name='tabs' value='no' />
												<param name='toolbar' value='yes' />
												<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;pr&#47;project_6_16881234395590&#47;Dashboard2&#47;1.png' /> 
												<param name='animate_transition' value='yes' />
												<param name='display_static_image' value='yes' />
												<param name='display_spinner' value='yes' />
												<param name='display_overlay' value='yes' />
												<param name='display_count' value='yes' />
												<param name='language' value='en-US' />
												<param name='filter' value='publish=yes' />
											</object>
										</div>                
										<script type='text/javascript'>                    
											var divElement = document.getElementById('viz1691136672207');                   
											var vizElement = divElement.getElementsByTagName('object')[0];                    
												if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1210px';vizElement.style.height='587px';} 
												else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1210px';vizElement.style.height='587px';} 
												else { vizElement.style.width='100%';vizElement.style.height='727px';}                     
											var scriptElement = document.createElement('script');                    
												scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    
												vizElement.parentNode.insertBefore(scriptElement, vizElement);                
										</script>

										<br>
										<br>
									
									<h3 class="major">Metrocar currently supports 3 different platforms: ios, android, and web. To recommend where to focus our marketing budget for the upcoming year, what insights can we make based on the platform?</h3>

										<p>By number of users most popular platform is iOS with 14209 users on the first stage and 2651 on the last android is half of that with 6935 on first and 1273 on the last. And we have web with only 2383 and 424 unique users on first and last stage. Ultimately, I advise to take a look at web platform, and also do something with android. Maybe somehow made interface more intuitive or more user friendly.</p>

										<div class="col-12"><span class="image fit"><img src="images/metro3.jpg" alt="" /></span>
									
									<h3 class="major">What age groups perform best at each stage of our funnel? Which age group(s) likely contain our target customers?</h3>

										<p>Best performance shown by the group with unknown age, but if we drop it on the second place would be 35-44 age group  with biggest number of users who made it to the end of the funnel, so this is our target audience. Other group with only age group 25-34 which can compere with 35-44 age group, and could to come in our target audience.</p>
									
										<p>To conclude we should look deeper in sign in and ride request funnel steps, to find why users drop from these stages, and also concentrate on ride completion stages and I suggest to make some type of feedback program with choice selection to better understand user drop off.</p>

										<p>Also, we need to upgrade our web platform, and concentrate more on the 25-44 age group to make more profit.</p>

										<div class='tableauPlaceholder' id='viz1691138568678' style='position: relative'>
											<noscript>
												<a href='#'>
													<img alt='Dashboard 2 (2) ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;pr&#47;project_6_16881234395590&#47;Dashboard22&#47;1_rss.png' style='border: none' />
												</a>
											</noscript>
											<object class='tableauViz'  style='display:none;'>
												<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> 
												<param name='embed_code_version' value='3' /> 
												<param name='site_root' value='' />
												<param name='name' value='project_6_16881234395590&#47;Dashboard22' />
												<param name='tabs' value='no' />
												<param name='toolbar' value='yes' />
												<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;pr&#47;project_6_16881234395590&#47;Dashboard22&#47;1.png' /> 
												<param name='animate_transition' value='yes' />
												<param name='display_static_image' value='yes' />
												<param name='display_spinner' value='yes' />
												<param name='display_overlay' value='yes' />
												<param name='display_count' value='yes' />
												<param name='language' value='en-US' />
												<param name='filter' value='publish=yes' />
											</object>
										</div>                
										<script type='text/javascript'>                    
											var divElement = document.getElementById('viz1691138568678');                    
											var vizElement = divElement.getElementsByTagName('object')[0];                    
												if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1210px';vizElement.style.height='587px';} 
												else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1210px';vizElement.style.height='587px';} 
												else { vizElement.style.width='100%';vizElement.style.height='927px';}                     
											var scriptElement = document.createElement('script');                    
												scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    
												vizElement.parentNode.insertBefore(scriptElement, vizElement);                
										</script>

										<br>
										<br>

									
									<h3 class="major">How do I get my results?</h3>

										<p>To made this funnel possible first of all I explore the data using SQL.</p>
									
										<section>
											<ul class="actions">
												<li><a href="metrocarsql.html" class="button primary">all code that I used you can find here</a></li>
												<li><a href="https://github.com/astronaut707/metrocar.git" class="button primary">all project files you can find here</a></li>
											</ul>										
										</section>

										<p>After analyzing I made custom datasets for all steps of the funnel using SQL:</p>

										<h1>Downloads:</h1>

										<pre><code>
<b>SELECT</b> 0 <b>AS</b> funnel_step, 'downloads' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(<i>DISTINCT</i> a.app_download_key) AS user_count
<b>FROM</b> app_downloads a
<b>FULL JOIN</b> signups s 
	<b>ON</b> s.session_id = a.app_download_key
<b>GROUP BY</b> 3, 4									
										</code></pre>

										<h1>Sign Ups:</h1>

										<pre><code>
<b>SELECT</b> 1 AS funnel_step, 'sign_ups' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(s.user_id) AS user_count
<b>FROM</b> signups s
<b>JOIN</b> app_downloads a
<b>ON</b> a.app_download_key = s.session_id
<b>GROUP BY</b> 3, 4
										</code></pre>

										<h1>Rides requested:</h1>

										<pre><code>
<b>SELECT</b> 2 AS funnel_step, 'rides_requested' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(<i>DISTINCT</i> r.user_id) AS user_count, <i>COUNT</i>(r.user_id) AS rides_count
<b>FROM</b> ride_requests r
<b>JOIN</b> signups s
	<b>ON</b> s.user_id = r.user_id
<b>JOIN</b> app_downloads a
	<b>ON</b> a.app_download_key = s.session_id
<b>WHERE</b> r.request_ts <b>IS NOT NULL</b>
<b>GROUP BY</b> 3, 4
										</code></pre>

										<h1>Rides accepted:</h1>

										<pre><code>
<b>SELECT</b> 3 AS funnel_step, 'rides_accepted' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(<i>DISTINCT</i> r.user_id) AS user_count, <i>COUNT</i>(r.user_id) AS rides_count
<b>FROM</b> ride_requests r
<b>JOIN</b> signups s
	<b>ON</b> s.user_id = r.user_id
<b>JOIN</b> app_downloads a
	<b>ON</b> a.app_download_key = s.session_id
<b>WHERE</b> r.accept_ts <b>IS NOT NULL</b>
<b>GROUP BY</b> 3, 4
										</code></pre>

										<h1>Rides completed:</h1>

										<pre><code>
<b>SELECT</b> 4 AS funnel_step, 'rides_completed' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(<i>DISTINCT</i> r.user_id) AS user_count, <i>COUNT</i>(r.user_id) AS rides_count
<b>FROM</b> ride_requests r
<b>JOIN</b> signups s
	<b>ON</b> s.user_id = r.user_id
<b>JOIN</b> app_downloads a
	<b>ON</b> a.app_download_key = s.session_id
<b>WHERE</b> r.dropoff_ts IS NOT NULL
<b>GROUP BY</b> 3, 4
										</code></pre>

										<h1>Payment:</h1>

										<pre><code>
<b>SELECT</b> 5 AS funnel_step, 'payment' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(<i>DISTINCT</i> r.user_id) AS user_count, <i>COUNT</i>(r.user_id) AS rides_count
<b>FROM</b> ride_requests r
<b>JOIN</b> transactions t
	<b>ON</b> t.ride_id = r.ride_id
<b>JOIN</b> signups s
	<b>ON</b> s.user_id = r.user_id
<b>JOIN</b> app_downloads a
	<b>ON</b> a.app_download_key = s.session_id
<b>WHERE</b> t.charge_status = 'Approved'
<b>GROUP BY</b> 3, 4
										</code></pre>

										<h1>Review:</h1>

										<pre><code>
<b>SELECT</b> 6 AS funnel_step, 'reviews' AS step_name, a.platform, s.age_range, 
	<i>COUNT</i>(<i>DISTINCT</i> r.user_id) AS user_count, <i>COUNT</i>(r.user_id) AS rides_count
<b>FROM</b> reviews r
<b>JOIN</b> signups s
	<b>ON</b> s.user_id = r.user_id
<b>JOIN</b> app_downloads a
	<b>ON</b> a.app_download_key = s.session_id
<b>GROUP BY</b> 3, 4
										</code></pre>

										<p>Then I concatenated all steps in one dataset using Python:</p>
										<pre><code>
<font color="F59829">import</font> pandas <font color="F59829">as</font> pd

<font color="#737373"># Importing dataFrames</font>
step1 = pd.read_csv(<font color="C2DA4C">'path/data/step1.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)
step2 = pd.read_csv(<font color="C2DA4C">'path/data/step2.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)
step3 = pd.read_csv(<font color="C2DA4C">'path/data/step3.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)
step4 = pd.read_csv(<font color="C2DA4C">'path/data/step4.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)
step5 = pd.read_csv(<font color="C2DA4C">'path/data/step5.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)
step6 = pd.read_csv(<font color="C2DA4C">'path/data/step6.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)
step7 = pd.read_csv(<font color="C2DA4C">'path/data/step7.csv'</font>, <font color="E088BA">index_col</font>=<font color="F59829">False</font>)

steps = [step1, step2, step3, step4, step5, step6, step7]
funnel = pd.concat(steps)
funnel = funnel.reset_index(<font color="E088BA">drop</font>=<font color="F59829">True</font>)

<font color="106391">print</font>(funnel)
funnel.to_csv(<font color="C2DA4C">'path/data/funnel.csv'</font>)
										</code></pre>


									<section class="features">
										<article>
											<a href="deforestation.html" class="image"><img src="images/project1.jpeg" alt="" /></a>
											<h3 class="major">Deforestation Project</h3>
											<a href="deforestation.html" class="special">Learn more</a>
										</article>
										<article>
											<a href="capstone.html" class="image"><img src="images/project2.jpeg" alt="" /></a>
											<h3 class="major">Capstone Project</h3>
											<a href="capstone.html" class="special">Learn more</a>
										</article>
									</section>

								</div>
							</div>

					</section>

				<!-- Footer -->
					<section id="footer">
						<div class="inner">
							<h2 class="major">Get in touch</h2>
							<ul class="contact">
								<li class="icon solid fa-envelope">samshilo7070@gmail.com</li>
								<li class="icon brands fa-github"><a href="https://github.com/astronaut707">GitHub</a></li>
								<li class="icon brands fa-linkedin"><a href="https://www.linkedin.com/in/semyon-shilovskii/">LinkedIn</a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; Untitled Inc. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
							</ul>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>